/* eslint-disable */
window.initLazyLoading=function(){function a(r,s){this.progressListeners=[],this.monitor={},this.realPromise=s?s:new Promise(r)}async function b(r,s){try{let t;t=knimeService.isInteractivityAvailable()?knimeService.getGlobalService().requestViewUpdate(window.frameElement.id,JSON.stringify(r),r.sequence):knimeViewRequest(JSON.stringify(r)),t||(t={}),'string'==typeof t&&(t=JSON.parse(t)),t.requestSequence||(t.requestSequence=r.sequence),s.monitor=t,s.promise&&s.promise.updateProgress(t),'undefined'==typeof h&&k(),h||p(s)}catch(t){for(let u=0;u<f.length;u++)if(f[u].requestSequence===r.sequence){f.splice(u,1);break}s.reject&&s.reject(t)}}const c=500,f=[];let g=0,h=!1;if(!knimeService)throw new Error('KNIME service is not defined.');a.prototype={progress:function(r){return this.progressListeners.push(r),this.monitor&&r(this.monitor),this},then:function(r,s){let t=new a(null,this.realPromise.then(r,s));return t.progressListeners=this.progressListeners,t.monitor=this.monitor,t},catch:function(r){let s=new a(null,this.realPromise.catch(r));return s.progressListeners=this.progressListeners,s.monitor=this.monitor,s},finally:function(r){let s=new a(null,this.realPromise.finally(r));return s.progressListeners=this.progressListeners,s.monitor=this.monitor,s},updateProgress:function(r){this.monitor=r,this.progressListeners.forEach(function(s){s(r)})},cancel:function(r){if(this.monitor&&this.monitor.requestSequence)for(let t,s=0;s<f.length;s++)if(t=f[s],t.sequence===this.monitor.requestSequence){if(!t.notCancelable){let u=t.sequence;t.monitor&&t.monitor.id&&(u=t.monitor.id),u+='',knimeService.isInteractivityAvailable()?knimeService.getGlobalService().cancelViewRequest(window.frameElement.id,u,r):knimeCancelRequest(u),r||f.splice(s,1)}break}}};const k=function(){h=knimeService.isInteractivityAvailable()?knimeService.getGlobalService().isPushSupported():knimePushSupported()},l=function(r,s){return JSON.stringify(r)===JSON.stringify(s)},m=function(r){let s='undefined'==typeof Number.MAX_SAFE_INTEGER?Number.MAX_VALUE:Number.MAX_SAFE_INTEGER;return++r%s},n=function(){return g=m(g),g},o=function(r,s){let t;const u=r.monitor.id;if(t=knimeService.isInteractivityAvailable()?knimeService.getGlobalService().updateRequestStatus(window.frameElement.id,u):knimeUpdateRequestStatus(u),'string'==typeof t&&(t=JSON.parse(t)),l(r.monitor,t)||knimeService.updateResponseMonitor(t),!(t.executionFinished&&t.responseAvailable||t.executionFailed||t.cancelled)){const v=Math.min(5e3,1.05*s);setTimeout(o,v,r,v)}},p=function(r){setTimeout(o,c,r,c)},q=function(r,s){let t=f[r];if(t.sequence===s.sequence){f.splice(r,1);try{t.resolve(s)}catch(u){t.reject(u)}}};knimeService.requestViewUpdate=function(r,s,t){r.sequence=n();let u={sequence:r.sequence,monitor:{},notCancelable:t,preserveOrder:s},v=new a(function(w,x){u.resolve=w,u.reject=x});return u.promise=v,f.push(u),b(r,u),v},knimeService.updateResponseMonitor=function(r){let s=r.requestSequence;if('undefined'!=typeof s){r.executionFinished&&r.responseAvailable&&knimeService.respondToViewRequest(r.response);for(let u,t=0;t<f.length;t++)if(u=f[t],u.sequence===s){r.executionFailed||r.cancelled?(u.reject(r.errorMessage),f.splice(t,1)):(u.monitor=r,u.promise&&u.promise.updateProgress(r));break}}},knimeService.respondToViewRequest=function(r){const s=r.sequence;if('undefined'!=typeof s)for(let t=0;t<f.length;t++){const u=f[t];if(u.sequence===s){if(u.preserveOrder){u.response=r;for(let v=0;v<f.length&&'undefined'!=typeof f[v].response;v++)q(v,f[v].response),v--}else q(t,r);break}}}},'undefined'==typeof KnimeInteractivity&&(window.KnimeInteractivity={respondToViewRequest:function(a){return knimeService.respondToViewRequest(a)},updateResponseMonitor:function(a){return knimeService.updateResponseMonitor(a)}});
