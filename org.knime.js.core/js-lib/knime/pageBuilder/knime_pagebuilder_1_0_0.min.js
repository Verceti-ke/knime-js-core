LOGGER=function(){var e={log:function(e){console&&console.log&&console.log(e)},error:function(e){console&&console.error&&console.error(e)}};return e}(),"undefined"==typeof KnimePageLoader&&(KnimePageLoader=function(){var e,t,n,i={},r="knimeWebNode",a="VAADIN/src-js",o=null,l=new Object,d=0,s=new Object,c=new Object,u=new Object,h=new Object,g=new Object,f=new Object,m=null,p=null,v=!1,b=!0;return i.init=function(i,r,l,s,c){i||_getContainerElement().appendChild(document.createTextNode("No data available.")),m=r,p=l,v=s,e=c||"./";try{var u=i;if("string"==typeof i?u=JSON.parse(i):(e=".",a=""),t="0.0.0",u.version&&(t=u.version),(n=u.webNodePageConfiguration)&&n.selectionTranslators)for(var h=0;h<n.selectionTranslators.length;h++)_registerSelectionTranslator(n.selectionTranslators[h],h);o=u.webNodes,void 0!==n&&null!=n&&void 0!==n.layout&&null!=n.layout&&(_compareVersionString(t,"3.1.0")<0?_buildLayoutGrid(n.layout.gridEntryList,null):(b=!1,_buildBSLayout(n.layout,null))),d=0,void 0!==o&&null!=o&&_processWebNodes()}catch(e){LOGGER.error(e)}},_compareVersionString=function(e,t){for(var n=e.split("."),i=t.split("."),r=0;r<3;r++){var a=parseInt(n[r])-parseInt(i[r]);if(a)return a/Math.abs(a)}return 0},_getContainerElement=function(){var e=document.getElementById(r);return e||(e=document.getElementsByTagName("body")[0]),e},_buildBSLayout=function(e,t){var n=t;if(void 0===t||null==t){var i=document.createElement("div");if(i.id="knimeBSLayoutContainer",i.setAttribute("class","container-fluid"),document.getElementById(r)&&(i.style.padding=0),_getContainerElement().appendChild(i),e.rows)for(var a=0;a<e.rows.length;a++)_buildBSLayout(e.rows[a],i)}if(e.type)if("row"===e.type||"JSONLayoutRow"===e.type){var l=document.createElement("div"),d="row";if(e.additionalClasses&&(d+=" "+e.additionalClasses.join(" ")),l.setAttribute("class",d),e.additionalStyles&&l.setAttribute("style",e.additionalStyles.join(" ")),n.appendChild(l),!e.columns)return;for(a=0;a<e.columns.length;a++){var s=e.columns[a],c=document.createElement("div"),g="";if(s.widthXS>0&&s.widthXS<=12&&(g+="col-xs-"+s.widthXS+" "),s.widthSM>0&&s.widthSM<=12&&(g+="col-sm-"+s.widthSM+" "),s.widthMD>0&&s.widthMD<=12&&(g+="col-md-"+s.widthMD+" "),s.widthLG>0&&s.widthLG<=12&&(g+="col-lg-"+s.widthLG+" "),s.widthXL>0&&s.widthXL<=12&&(g+="col-xl-"+s.widthXL),0==g.length&&(g="col-md-12"),s.additionalClasses&&(g+=" "+s.additionalClasses.join(" ")),c.setAttribute("class",g),s.additionalStyles&&c.setAttribute("style",s.additionalStyles.join(" ")),l.appendChild(c),s.content)for(var f=0;f<s.content.length;f++)_buildBSLayout(s.content[f],c)}}else if("view"===e.type||"JSONLayoutViewContent"===e.type){var m=o[e.nodeID];if(!m||m.nodeInfo&&!m.nodeInfo.displayPossible)return void(n.id="node"+e.nodeID.replace(/:/g,"-"));if("aspectRatio"===e.resizeMethod.substring(0,"aspectRatio".length)){var p=document.createElement("div"),b="embed-responsive";"aspectRatio16by9"===e.resizeMethod?b+=" embed-responsive-16by9":"aspectRatio4by3"===e.resizeMethod&&(b+=" embed-responsive-4by3"),p.setAttribute("class",b),n.appendChild(p),n=p}var y=document.createElement("iframe");e.additionalStyles&&y.setAttribute("style",e.additionalStyles.join(" ")),y.style.border||(y.style.border="none"),y.style.backgroundColor||(y.style.backgroundColor="white"),y.style.display="block",y.style.maxWidth="100%",y.setAttribute("width","100%"),y.setAttribute("allowfullscreen",""),y.id="node"+e.nodeID.replace(/:/g,"-");var w="";if(e.additionalClasses&&(w+=e.additionalClasses.join(" ")),"view"===e.resizeMethod.substring(0,"view".length)){y.setAttribute("class",w+"resizable-frame");var S=e.resizeMethod.substring(4,5).toLowerCase()+e.resizeMethod.substring(5);if("lowestElementIEMax"===S)S=-1!==navigator.userAgent.indexOf("MSIE")?"max":"lowestElement";var E={log:v,enablePublicMethods:!0,checkOrigin:!1,resizeFrom:"child",autoResize:e.autoResize,scrolling:e.scrolling,heightCalculationMethod:S,sizeHeight:e.sizeHeight,sizeWidth:e.sizeWidth};e.minWidth&&(E.minWidth=e.minWidth),e.maxWidth&&(E.maxWidth=e.maxWidth),e.minHeight&&(E.minHeight=e.minHeight),e.maxHeight&&(E.maxHeight=e.maxHeight),e.resizeInterval&&(E.interval=e.resizeInterval),e.resizeTolerance&&(E.tolerance=e.resizeTolerance),u[y.id]=E}else"aspectRatio"===e.resizeMethod.substring(0,"aspectRatio".length)?y.setAttribute("class",w+"embed-responsive-item"):"manual"===e.resizeMethod&&(h[y.id]=!0);n.appendChild(y)}else"html"!==e.type&&"JSONLayoutHTMLContent"!==e.type||(n.innerHTML=e.value)},_buildLayoutGrid=function(e,t){for(var n=-1,i=-1,r=0;r<e.length;r++)n=Math.max(n,e[r].position.x),i=Math.max(i,e[r].position.y);var a=document.createElement("table");void 0===t||null==t?(a.id="knimeLayoutGridTable",_getContainerElement().appendChild(a)):(a.setAttribute("class","knimeInnerLayoutGridTable"),t.appendChild(a)),a.setAttribute("style","width: 100%; height: 100%; min-height: 200px; border-collapse: collapse; border: none; border-spacing: 0; margin: 0; padding: 0;");for(var o=0;o<=i;o++){var l=document.createElement("tr");l.setAttribute("class","knimeLayoutGridRow"),l.setAttribute("style","margin: 0; padding:0; vertical-align: middle;"),a.appendChild(l);for(var d="margin: 0; border: none; width: "+100/(n+1)+"%;",s=0;s<=n;s++){var c=document.createElement("td");c.setAttribute("class","knimeLayoutGridCell"),c.setAttribute("style","padding:0; "+d),l.appendChild(c);var u=_getGridContentFromPosition(s,o,e);if(null!=u){var h=u.content.sizing,g="";if(h&&(h.padding&&(g+="padding: "+h.padding+"; "),h.width>0&&(g+="width: "+h.width+"px; "),h.minWidth>0&&(g+="min-width: "+h.minWidth+"px; "),h.maxWidth>0&&(g+="max-width: "+h.maxWidth+"px; "),h.height>0&&(g+="height: "+h.height+"px; "),h.minHeight>0&&(g+="min-height: "+h.minHeight+"px; "),h.maxHeight>0&&(g+="max-height: "+h.maxHeight+"px; ")),g+=d,c.setAttribute("style",g),u.content.containsView){var f=document.createElement("iframe");f.style.border="none",f.style.backgroundColor="white",f.style.display="block",f.style.maxWidth="100%",f.setAttribute("width","100%"),f.id=u.content.nodeID,c.appendChild(f)}else _buildLayoutGrid(u.content.nestedGridContent,c)}}}},_getGridContentFromPosition=function(e,t,n){for(var i=0;i<n.length;i++){var r=n[i].position;if(r.x==e&&r.y==t)return n[i]}return null},_processWebNodes=function(){for(var t in o){var n=o[t],i="node"+t.replace(/:/g,"-"),r=document.getElementById(t);if(r||(r=document.getElementById(i)),!n.nodeInfo||n.nodeInfo.displayPossible){void 0!==r&&null!=r||((r=document.createElement("iframe")).setAttribute("style","border: none; background-color: white; display:block;"),r.setAttribute("class","resizable-frame"),r.setAttribute("width","100%"),r.setAttribute("allowfullscreen",""),r.id=i,u[i]={log:v,enablePublicMethods:!0,checkOrigin:!1,resizeFrom:"child",scrolling:!0},_getContainerElement().appendChild(r));var d="";if(n.stylesheets)for(var s=0;s<n.stylesheets.length;s++)d+='<link rel="stylesheet" href="'+e+a+n.stylesheets[s]+'"></link>\n';document.getElementById("element_for_"+i)&&(d+='<link rel="stylesheet" type="text/css" href="'+e+'VAADIN/themes/knime/styles.css">');var c=new Array;if(n.javascriptLibraries)for(var h=0;h<n.javascriptLibraries.length;h++){var g=n.javascriptLibraries[h];/.*require.*/i.test(g)||(g="/"==g.charAt(0)?g.substring(1):g,c.push(g.substring(0,g.length-3)))}(" "+r.className+" ").indexOf(" resizable-frame ")>-1&&c.push("org/knime/core/iframeResizer/iframeResizer.contentWindow");var f=n.namespace;void 0===f||""==f?f="":f+=".";var m=[];for(h=0;h<c.length;h++)m.push('"'+c[h]+'"');var p=f+n.initMethodName+'(parent.KnimePageLoader.getWebNode("'+t+'").viewRepresentation, parent.KnimePageLoader.getWebNode("'+t+'").viewValue);\nparent.KnimePageLoader.setInitialized(window.frameElement.id);\n',b=e+a+"/org/knime/",y='<script data-main="'+(b+=v?"debug/":"core/")+'callInitFrame.js" src="'+b+'require.js"><\/script>\n',w="<!DOCTYPE html>\n<html>\n<head>\n"+d+('<script type="text/javascript">\n'+("function requireLibs(libs, index) {\n\tif (index >= libs.length) return;\n\trequire([libs[index]], function(libObject) {\n\t\tparent.KnimePageLoader.addLibrary(libs[index], libObject);\n\t\tindex++;\n\t\tif (index === libs.length) {\n\t\t\t"+p+"\t\t}\n\t\trequireLibs(libs, index);\n\t});\n}\n\n")+"function initFrame() {\n\trequireLibs(["+m.join(",")+"], 0);}\n<\/script>\n")+y+"</head>\n<body>\n</body>\n</html>",S=r.contentWindow.document;try{S.open(),S.write(w)}finally{S.close()}l[t]=r}else{var E="<strong>";E+=n.nodeInfo.nodeName,E+=" ("+t+")",n.nodeInfo.nodeAnnotation&&(E+=' - "'+n.nodeInfo.nodeAnnotation+'" -'),E+=" cannot be displayed.",E+="</strong><br>",n.nodeInfo.nodeErrorMessage?(E+="<strong>Error message on node:</strong> ",E+=n.nodeInfo.nodeErrorMessage):n.nodeInfo.nodeWarnMessage?(E+="<strong>Warn message on node:</strong> ",E+=n.nodeInfo.nodeWarnMessage):E+="No further information available. Please check the configuration of the workflow.",v&&(E+="<br>",E+="The node was in state ",E+='<span style="text-transform: uppercase;">',E+=n.nodeInfo.nodeState,E+="</span>.");var x=document.createElement("div");x.setAttribute("class","nodeError alert alert-danger"),x.setAttribute("role","alert"),x.innerHTML=E,(r||_getContainerElement()).appendChild(x)}}},i.getWebNode=function(e){return o[e]},i.getFrame=function(e){return l[e]},i.getContextRoot=function(){return e},i.getBasePath=function(){return e+a},i.setInitialized=function(e){if(u[e]&&iFrameResize){var t=u[e];if(!t.heightCalculationMethod){var n=-1!==navigator.userAgent.indexOf("MSIE")?"max":"lowestElement";t.heightCalculationMethod=n}iFrameResize(t,"iframe#"+e)}++d===Object.keys(o).length&&i.getPageValues()},i.getLibrary=function(e){return s[e]},i.addLibrary=function(e,t){s[e]=t},i.getPageValues=function(){try{for(var e in c=new Object,o){var t=o[e];if(!t.nodeInfo||t.nodeInfo.displayPossible){var n;c[e]={};var r=t.namespace,a=null;if(void 0===r||""==r)a=i.getFrame(e).contentWindow[t.getViewValueMethodName];else{var l=n=i.getFrame(e).contentWindow[r];void 0!==l&&(a=l[t.getViewValueMethodName].bind(l))}a&&(void 0===(n=a())&&(n={}),c[e]=n)}}if(!p)return c;p(m,JSON.stringify(c))}catch(e){LOGGER.error(e)}},i.updateComponentValue=function(e,t){try{c[e]&&(c[e]=t,p(m,JSON.stringify(c)))}catch(e){LOGGER.error(e)}},i.validate=function(){var e=!0;for(var t in o){var n=o[t];if(!n.nodeInfo||n.nodeInfo.displayPossible){var r,a=n.namespace;(r=void 0===a||""==a?i.getFrame(t).contentWindow[n.validateMethodName]:i.getFrame(t).contentWindow[a][n.validateMethodName])&&(e&=r())}}return!!e},i.setValidationError=function(e){var t=JSON.parse(e);if("string"!=typeof t){for(var n in t)for(var r in o)if(n===r){var a,l=o[r],d=l.namespace;(a=void 0===d||""==d?i.getFrame(r).contentWindow[l.setValidationErrorMethodName]:i.getFrame(r).contentWindow[d][l.setValidationErrorMethodName])&&(a(t[n].error),i.autoResize(n));break}}else alert(t)},i.reset=function(){t=null,n=null,o=null,l=new Object,d=0,s=new Object,c=new Object,u=new Object,h=new Object,g=new Object,f=new Object,m=null,p=null,v=!1,b=!0},i.isRunningInWebportal=function(){try{return null!=document.querySelector("body.v-generated-body > div.webportalui")}catch(e){return LOGGER.error(e),!1}},i.autoResize=function(e,t,n){(b||h[e])&&setTimeout(function(){var i=n,r=t;if(document.getElementById&&document.getElementById(e)){var a=document.getElementById(e).contentWindow.document.body,o=document.getElementById(e).contentWindow.document.documentElement;void 0!==n&&null!=n||(i=Math.max(a.scrollHeight,a.offsetHeight,o.clientHeight,o.scrollHeight,o.offsetHeight)),void 0!==t&&null!=t||(r=Math.max(a.scrollWidth,a.offsetWidth,o.clientWidth,o.scrollWidth,o.offsetWidth));var l=document.getElementById(e);l.height=i+"px",document.getElementById(e).width=r+"px",l.style.width=r+"px",l.style.height=i+"px"}},0)},outerHeight=function(e){if(void 0!==e&&"undefined"!=typeof getComputedStyle){var t=e.offsetHeight,n=getComputedStyle(e);return t+=parseInt(n.marginTop)+parseInt(n.marginBottom)}},outerWidth=function(e){if(void 0!==e&&"undefined"!=typeof getComputedStyle){var t=e.offsetWidth,n=getComputedStyle(e);return t+=parseInt(n.marginLeft)+parseInt(n.marginRight)}},i.subscribe=function(e,t,n){if(v&&LOGGER.log("Subscribing event listener for: "+e+(n?JSON.stringify(n):"")),f.hasOwnProperty(e)||(f[e]=[]),f[e].push({callback:t,filter:n}),g[e]){var i=_createRelevantElements(e,n);i||(i={}),i.reevaluate=!0,_notifySubscriber(t,i)}},i.unsubscribe=function(e,t){if(f.hasOwnProperty(e))for(var n=f[e],i=n.length;i--;)if(n[i].callback===t)return v&&LOGGER.log("Unsubscribing event listener for: "+e),n.splice(i,1)},i.publish=function(e,t,n){v&&LOGGER.log("Publishing interactivity event ("+e+"): "+JSON.stringify(t));var i=g.hasOwnProperty(e);if(t.changeSet){if(!i){if(!(t.changeSet.added&&t.changeSet.added.length>0||t.changeSet.partialAdded&&t.changeSet.partialAdded.length>0))return;g[e]={selectionMethod:t.selectionMethod,elements:[]},t.changeSet.partialAdded&&t.changeSet.partialAdded.length>0&&(g[e].partial=[])}var r=g[e],a=[],o=[],l=[],d=[];if(r&&r.elements&&t.changeSet.removed&&t.changeSet.removed.length>0)for(var s=r.elements.length;s--;){var c=(h=r.elements[s].rows||[]).filter(function(e){return t.changeSet.removed.indexOf(e)<0});a=a.concat(t.changeSet.removed.filter(function(e){return h.indexOf(e)>-1})),c.length<1?r.elements.splice(s,1):r.elements[s].rows=c}if(r&&r.partial&&t.changeSet.partialRemoved&&t.changeSet.partialRemoved.length>0){var u=r.partial.filter(function(e){return t.changeSet.partialRemoved.indexOf(e)<0});l=t.changeSet.partialRemoved.filter(function(e){return r.partial.indexOf(e)>-1}),u.length<1?delete r.partial:r.partial=u}if(t.changeSet.added&&t.changeSet.added.length>0){r.elements.length<1&&(r.elements=[{type:"row",rows:[]}]);for(s=0;s<r.elements.length;s++)if(void 0===r.elements[s].id){var h=r.elements[s].rows||[];o=t.changeSet.added.filter(function(e){return h.indexOf(e)<0}),r.elements[s].rows=h.concat(o);break}}if(t.changeSet.partialAdded&&t.changeSet.partialAdded.length>0){var f=r.partial||[];d=t.changeSet.partialAdded.filter(function(e){return f.indexOf(e)<0}),!r.partial&&d.length>0&&(r.partial=[]),r.partial=r.partial.concat(d)}if(a.length+o.length+l.length+d.length){var m={selectionMethod:t.selectionMethod,changeSet:{}};a.length&&(m.changeSet.removed=a),o.length&&(m.changeSet.added=o),l.length&&(m.changeSet.partialRemoved=l),d.length&&(m.changeSet.partialAdded=d),void 0!==t.mappedEvent&&(m.mappedEvent=t.mappedEvent),_notifySubscribers(e,m,n)}}else{var p=[];for(s=0;s<t.elements.length;s++){if(void 0!==t.elements[s].id){var b=!0;if(i)for(var y=g[e],w=0;w<y.elements.length;w++)if(t.elements[s].id==y.elements[w].id){b=t.elements[s]===y.elements[w];break}b&&p.push(t.elements[s].id)}if(p.length<1)return;g[e]=t,_notifySubscribers(e,t,n,p)}}},_createRelevantElements=function(e,t,n){var i=g[e];if(!i||!t)return i;if(n){for(var r=!1,a=0;a<t.length;a++)if(n.indexOf(t[a]>=0)){r=!0;break}if(!r)return null}var o=i.elements.filter(function(e){return void 0!==e.id&&t.indexOf(e.id)>=0});return{selectionMethod:i.selectionMethod,elements:o}},_notifySubscribers=function(e,t,n,i){if(f[e])for(var r=0;r<f[e].length;r++){var a=f[e][r];if(!n||a.callback!==n){var o=t;i&&(o=_createRelevantElements(e,a.filter,i)),o&&_notifySubscriber(a.callback,o)}}},_notifySubscriber=function(e,t){setTimeout(function(){e.call(this,t)},0)},i.getPublishedElement=function(e){var t=g[e];return t&&delete t.mappedEvent,t},_registerSelectionTranslator=function(e,t){if(e.sourceID&&e.targetIDs&&(e.forward||e.mapping)){i.subscribe("selection-"+e.sourceID,function(n){if(n&&n.mappedEvent!=t)for(var r=0;r<e.targetIDs.length;r++){var a=n;if(!e.forward&&e.mapping){var o=i.getPublishedElement("selection-"+e.sourceID),l=i.getPublishedElement("selection-"+e.targetIDs[r]);if(!(a=_mapSelectionEvent(n,e.mapping,!0,o,l)))return}a.mappedEvent=t,i.publish("selection-"+e.targetIDs[r],a)}});for(var n=0;n<e.targetIDs.length;n++)_subscribeTargetTranslator(e,t,e.targetIDs[n])}},_subscribeTargetTranslator=function(e,t,n){i.subscribe("selection-"+n,function(r){if(r&&r.mappedEvent!=t){var a=r;if(!e.forward&&e.mapping){var o=i.getPublishedElement("selection-"+e.sourceID),l=i.getPublishedElement("selection-"+n);if(!(a=_mapSelectionEvent(r,e.mapping,!1,o,l)))return}a.mappedEvent=t,i.publish("selection-"+e.sourceID,a)}})},_mapSelectionEvent=function(e,t,n,i,r){if(e&&e.changeSet){var a={selectionMethod:"selection",changeSet:{}},o=[];if(i&&i.elements)for(var l=0;l<i.elements.length;l++)i.elements[l].rows&&(o=o.concat(i.elements[l].rows));var d=[];i&&i.partial&&(d=i.partial);var s=[];if(r&&r.elements)for(l=0;l<r.elements.length;l++)r.elements[l].rows&&(s=s.concat(r.elements[l].rows));var c=[];e.changeSet&&e.changeSet.added&&(c=e.changeSet.added);var u=[];e.changeSet&&e.changeSet.removed&&(u=e.changeSet.removed);var h=[],g=[],f=[],m=[];if(n){for(var p=0;p<c.length;p++)if(t[c[p]]){var v=t[c[p]].filter(function(e){return s.indexOf(e)<0});h=h.concat(v)}for(p=0;p<u.length;p++)if(t[u[p]]){var b=t[u[p]].filter(function(e){return s.indexOf(e)>-1});g=g.concat(b)}}else{var y=[];for(var p in t){var w=t[p].every(function(e){return s.indexOf(e)>-1}),S=t[p].some(function(e){return s.indexOf(e)>-1});r&&r.partial&&(S|=t[p].some(function(e){return r.partial.indexOf(e)>-1}));var E=t[p].some(function(e){return c.indexOf(e)>-1}),x=t[p].some(function(e){return u.indexOf(e)>-1});w&&E&&o.indexOf(p)<0&&h.push(p),!w&&x&&o.indexOf(p)>-1&&g.push(p),!w&&S&&y.push(p)}f=y.filter(function(e){return d.indexOf(e)<0}),m=d.filter(function(e){return y.indexOf(e)<0})}return h.length+g.length+f.length+m.length&&(a.changeSet={},h.length>0&&(a.changeSet.added=h),g.length>0&&(a.changeSet.removed=g),f.length>0&&(a.changeSet.partialAdded=f),m.length>0&&(a.changeSet.partialRemoved=m)),a}},i}());